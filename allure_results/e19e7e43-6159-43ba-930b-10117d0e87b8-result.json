{"name": "Получение списка с одним заказом у конкретоного пользователя", "status": "broken", "statusDetails": {"message": "KeyError: 'orders'", "trace": "self = <tests.test_get_current_user_orders.TestGetCurrentUserOrders object at 0x10255cf80>, create_user_and_delete_after_test = <endpoints.get_current_user_orders_endpoint.CurrentUserOrdersEndpoint object at 0x10254a270>\ncreate_burger = <endpoints.get_current_user_orders_endpoint.CurrentUserOrdersEndpoint object at 0x1025c96a0>\n\n    @allure.title('Получение списка с одним заказом у конкретоного пользователя')\n    @allure.description(\"Тест падает, хотя должен проходить\")\n    def test_get_current_user_with_one_order(self, create_user_and_delete_after_test, create_burger):\n        user = create_user_and_delete_after_test\n        user.post_authorized_user(user.request_json)\n        user.assert_status_code_and_json(QCUOD.AUTHORIZATION_RESPONSE_STATUS_CODE,\n                                         QCUOD.AUTHORIZATION_BODY_RESPONSE)\n    \n        burger = create_burger\n        burger.get_current_user_orders_endpoint()\n>       burger.assert_status_code_and_json_for_get_orders_endpoint(QCUOD.GET_CURRENT_USER_ORDERS_SUCCESS_STATUS_CODE,\n                                                                   QCUOD.GET_CURRENT_USER_ORDERS_SUCCESS_BODY,)\n\ntests/test_get_current_user_orders.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <endpoints.get_current_user_orders_endpoint.CurrentUserOrdersEndpoint object at 0x1025c96a0>, checked_status_code = 200\nstandard_json = {'orders': [{'_id': '', 'createdAt': '2021-06-23T20:11:01.403Z', 'ingredients': ['60d3463f7034a000269f45e9', '60d3463f7034a000269f45e7'], 'number': 1, ...}], 'success': True, 'total': 2, 'totalToday': 2}\ncreated_orders_num = 1\n\n    @allure.step('Проверка статус кода и структуры ответа при получении списка заказов')\n    def assert_status_code_and_json_for_get_orders_endpoint(self, checked_status_code,\n                                                            standard_json,\n                                                            created_orders_num=1):\n    \n>       assert len(self.response.json()[\"orders\"]) == created_orders_num\nE       KeyError: 'orders'\n\nendpoints/base_endpoint.py:28: KeyError"}, "description": "Тест падает, хотя должен проходить", "steps": [{"name": "САвторизация пользователя", "status": "passed", "parameters": [{"name": "json_data", "value": "{'email': '5fwewa88@yandex.ru', 'password': 'sfs71aj3', 'name': '4vuhcnr8'}"}, {"name": "not_created", "value": "None"}], "start": 1730053400148, "stop": 1730053403826}, {"name": "Проверка статус кода и структуры ответа", "status": "passed", "parameters": [{"name": "checked_status_code", "value": "200"}, {"name": "standard_json", "value": "{'success': True, 'accessToken': 'Bearer ...', 'refreshToken': '', 'user': {'email': '', 'name': ''}}"}], "start": 1730053403827, "stop": 1730053403827}, {"name": "Получение списка заказов конкретного пользователя", "status": "passed", "parameters": [{"name": "repeat_create_order", "value": "1"}], "start": 1730053403827, "stop": 1730053406140}, {"name": "Проверка статус кода и структуры ответа при получении списка заказов", "status": "broken", "statusDetails": {"message": "KeyError: 'orders'\n", "trace": "  File \"/Users/dmitriydemidov/PycharmProjects/Diplom_2/.venv/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/Users/dmitriydemidov/PycharmProjects/Diplom_2/endpoints/base_endpoint.py\", line 28, in assert_status_code_and_json_for_get_orders_endpoint\n    assert len(self.response.json()[\"orders\"]) == created_orders_num\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n"}, "parameters": [{"name": "checked_status_code", "value": "200"}, {"name": "standard_json", "value": "{'success': True, 'orders': [{'ingredients': ['60d3463f7034a000269f45e9', '60d3463f7034a000269f45e7'], '_id': '', 'status': 'done', 'number': 1, 'createdAt': '2021-06-23T20:11:01.403Z', 'updatedAt': '2021-06-23T20:11:01.406Z'}], 'total': 2, 'totalToday': 2}"}, {"name": "created_orders_num", "value": "1"}], "start": 1730053406140, "stop": 1730053406140}], "start": 1730053400148, "stop": 1730053406141, "uuid": "165e7831-0609-4edb-89c2-b700e9bac9ce", "historyId": "699c17110b40cf1f4d51d9fb6d836a61", "testCaseId": "699c17110b40cf1f4d51d9fb6d836a61", "fullName": "tests.test_get_current_user_orders.TestGetCurrentUserOrders#test_get_current_user_with_one_order", "labels": [{"name": "feature", "value": "Проверки полученя заказов конкретного пользователя"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_get_current_user_orders"}, {"name": "subSuite", "value": "TestGetCurrentUserOrders"}, {"name": "host", "value": "MacBook-Air-Dmitriy.local"}, {"name": "thread", "value": "34360-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_get_current_user_orders"}]}